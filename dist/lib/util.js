'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

const util = {};

util.createError = (code, placeholderValue, data, status, message) => {
  const errObj = {
    status,
    message,
    code
  };

  if (placeholderValue) {
    if (util.isObject(placeholderValue) || Array.isArray(placeholderValue)) {
      errObj.placeholderValue = placeholderValue;
    } else {
      errObj.placeholderValue = [placeholderValue];
    }
  }

  if (data) errObj.data = data;

  return new Error(JSON.stringify(errObj));
};

util.isObject = obj => {
  return !(Object.prototype.toString.call(obj) !== '[object Object]' || Object.getOwnPropertyNames(obj).indexOf('_bsontype') >= 0 || moment.isMoment(obj));
};

exports.default = util;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxpYi91dGlsLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJjcmVhdGVFcnJvciIsImNvZGUiLCJwbGFjZWhvbGRlclZhbHVlIiwiZGF0YSIsInN0YXR1cyIsIm1lc3NhZ2UiLCJlcnJPYmoiLCJpc09iamVjdCIsIkFycmF5IiwiaXNBcnJheSIsIkVycm9yIiwiSlNPTiIsInN0cmluZ2lmeSIsIm9iaiIsIk9iamVjdCIsInByb3RvdHlwZSIsInRvU3RyaW5nIiwiY2FsbCIsImdldE93blByb3BlcnR5TmFtZXMiLCJpbmRleE9mIiwibW9tZW50IiwiaXNNb21lbnQiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUNBLE1BQU1BLE9BQU8sRUFBYjs7QUFFQUEsS0FBS0MsV0FBTCxHQUFtQixDQUFDQyxJQUFELEVBQU9DLGdCQUFQLEVBQXlCQyxJQUF6QixFQUErQkMsTUFBL0IsRUFBdUNDLE9BQXZDLEtBQW1EO0FBQ3BFLFFBQU1DLFNBQVM7QUFDYkYsVUFEYTtBQUViQyxXQUZhO0FBR2JKO0FBSGEsR0FBZjs7QUFNQSxNQUFJQyxnQkFBSixFQUFzQjtBQUNwQixRQUFJSCxLQUFLUSxRQUFMLENBQWNMLGdCQUFkLEtBQW1DTSxNQUFNQyxPQUFOLENBQWNQLGdCQUFkLENBQXZDLEVBQXdFO0FBQ3RFSSxhQUFPSixnQkFBUCxHQUEwQkEsZ0JBQTFCO0FBQ0QsS0FGRCxNQUVPO0FBQ0xJLGFBQU9KLGdCQUFQLEdBQTBCLENBQUNBLGdCQUFELENBQTFCO0FBQ0Q7QUFDRjs7QUFFRCxNQUFJQyxJQUFKLEVBQVVHLE9BQU9ILElBQVAsR0FBY0EsSUFBZDs7QUFFVixTQUFPLElBQUlPLEtBQUosQ0FBVUMsS0FBS0MsU0FBTCxDQUFlTixNQUFmLENBQVYsQ0FBUDtBQUNELENBbEJEOztBQW9CQVAsS0FBS1EsUUFBTCxHQUFpQk0sR0FBRCxJQUFTO0FBQ3ZCLFNBQU8sRUFBRUMsT0FBT0MsU0FBUCxDQUFpQkMsUUFBakIsQ0FBMEJDLElBQTFCLENBQStCSixHQUEvQixNQUF3QyxpQkFBeEMsSUFBNkRDLE9BQU9JLG1CQUFQLENBQTJCTCxHQUEzQixFQUFnQ00sT0FBaEMsQ0FBd0MsV0FBeEMsS0FBd0QsQ0FBckgsSUFBMEhDLE9BQU9DLFFBQVAsQ0FBZ0JSLEdBQWhCLENBQTVILENBQVA7QUFDRCxDQUZEOztrQkFJZWQsSSIsImZpbGUiOiJsaWIvdXRpbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgdXRpbCA9IHt9O1xuXG51dGlsLmNyZWF0ZUVycm9yID0gKGNvZGUsIHBsYWNlaG9sZGVyVmFsdWUsIGRhdGEsIHN0YXR1cywgbWVzc2FnZSkgPT4ge1xuICBjb25zdCBlcnJPYmogPSB7XG4gICAgc3RhdHVzLFxuICAgIG1lc3NhZ2UsXG4gICAgY29kZVxuICB9O1xuXG4gIGlmIChwbGFjZWhvbGRlclZhbHVlKSB7XG4gICAgaWYgKHV0aWwuaXNPYmplY3QocGxhY2Vob2xkZXJWYWx1ZSkgfHwgQXJyYXkuaXNBcnJheShwbGFjZWhvbGRlclZhbHVlKSkge1xuICAgICAgZXJyT2JqLnBsYWNlaG9sZGVyVmFsdWUgPSBwbGFjZWhvbGRlclZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBlcnJPYmoucGxhY2Vob2xkZXJWYWx1ZSA9IFtwbGFjZWhvbGRlclZhbHVlXTtcbiAgICB9XG4gIH1cblxuICBpZiAoZGF0YSkgZXJyT2JqLmRhdGEgPSBkYXRhO1xuXG4gIHJldHVybiBuZXcgRXJyb3IoSlNPTi5zdHJpbmdpZnkoZXJyT2JqKSk7XG59O1xuXG51dGlsLmlzT2JqZWN0ID0gKG9iaikgPT4ge1xuICByZXR1cm4gIShPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScgfHwgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5pbmRleE9mKCdfYnNvbnR5cGUnKSA+PSAwIHx8IG1vbWVudC5pc01vbWVudChvYmopKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWw7XG4iXX0=
